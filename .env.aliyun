# 医疗健康AI助手 - 阿里云环境配置文件
# 版本: 2.0
# 说明: 专为阿里云ECS服务器优化的环境配置

# =============================================================================
# 应用基础配置
# =============================================================================
APP_NAME="Medical AI Assistant"
APP_ENV=production
APP_DEBUG=false
APP_URL=http://localhost
APP_TIMEZONE=Asia/Shanghai

# 医疗模式配置
MEDICAL_MODE=true
MED_MAX_DAILY_REQUESTS=100
MED_SAFETY_LEVEL=high
MED_CONTENT_FILTER=true

# =============================================================================
# 数据库配置 (MySQL 8.0)
# =============================================================================
DB_CONNECTION=mysql
DB_HOST=mysql
DB_PORT=3306
DB_DATABASE=medical_gpt
DB_USERNAME=medical_user
DB_PASSWORD=Medical@2024!Secure

# MySQL Root密码 (用于管理和备份)
MYSQL_ROOT_PASSWORD=Root@2024!Secure

# MySQL配置优化
MYSQL_INNODB_BUFFER_POOL_SIZE=1G
MYSQL_MAX_CONNECTIONS=200
MYSQL_QUERY_CACHE_SIZE=64M

# =============================================================================
# Redis配置
# =============================================================================
REDIS_HOST=redis
REDIS_PASSWORD=Redis@2024!Secure
REDIS_PORT=6379
REDIS_DB=0

# Redis配置优化
REDIS_MAXMEMORY=512mb
REDIS_MAXMEMORY_POLICY=allkeys-lru
REDIS_TIMEOUT=300

# =============================================================================
# OpenAI API配置
# =============================================================================
# 请替换为您的实际API密钥
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_API_BASE=https://api.openai.com/v1
OPENAI_MODEL=gpt-3.5-turbo
OPENAI_MAX_TOKENS=2048
OPENAI_TEMPERATURE=0.7
OPENAI_TIMEOUT=30

# 备用API配置 (可选)
# OPENAI_API_BASE=https://api.openai-proxy.com/v1
# OPENAI_API_BASE=https://openai.api2d.net/v1

# =============================================================================
# 管理员账户配置
# =============================================================================
ADMIN_USERNAME=admin
ADMIN_PASSWORD=Admin@2024!Secure
ADMIN_EMAIL=admin@medical-ai.com
ADMIN_TTL=3600

# =============================================================================
# 安全配置
# =============================================================================
# JWT密钥 (请生成一个强密钥)
JWT_SECRET=your-jwt-secret-key-here-make-it-very-long-and-random
JWT_TTL=3600
JWT_REFRESH_TTL=20160

# 会话配置
SESSION_DRIVER=redis
SESSION_LIFETIME=120
SESSION_ENCRYPT=true

# 缓存配置
CACHE_DRIVER=redis
CACHE_PREFIX=medical_gpt

# =============================================================================
# 文件存储配置
# =============================================================================
FILESYSTEM_DRIVER=local
FILE_MAX_SIZE=10240
ALLOWED_FILE_TYPES=jpg,jpeg,png,gif,pdf,doc,docx

# 阿里云OSS配置 (可选)
# OSS_ACCESS_KEY_ID=your-oss-access-key-id
# OSS_ACCESS_KEY_SECRET=your-oss-access-key-secret
# OSS_BUCKET=your-bucket-name
# OSS_ENDPOINT=oss-cn-hangzhou.aliyuncs.com
# OSS_URL=https://your-bucket-name.oss-cn-hangzhou.aliyuncs.com

# =============================================================================
# 邮件配置
# =============================================================================
MAIL_MAILER=smtp
MAIL_HOST=smtp.aliyun.com
MAIL_PORT=465
MAIL_USERNAME=your-email@aliyun.com
MAIL_PASSWORD=your-email-password
MAIL_ENCRYPTION=ssl
MAIL_FROM_ADDRESS=noreply@medical-ai.com
MAIL_FROM_NAME="Medical AI Assistant"

# =============================================================================
# 日志配置
# =============================================================================
LOG_CHANNEL=daily
LOG_LEVEL=info
LOG_MAX_FILES=30
LOG_DAILY_PATH=/var/www/html/storage/logs

# =============================================================================
# 队列配置
# =============================================================================
QUEUE_CONNECTION=redis
QUEUE_FAILED_DRIVER=database

# =============================================================================
# 监控配置
# =============================================================================
# 启用监控
MONITORING_ENABLED=true
METRICS_ENABLED=true
HEALTH_CHECK_ENABLED=true

# Prometheus配置
PROMETHEUS_ENABLED=false
PROMETHEUS_PORT=9090

# =============================================================================
# 性能优化配置
# =============================================================================
# PHP配置
PHP_MEMORY_LIMIT=512M
PHP_MAX_EXECUTION_TIME=300
PHP_MAX_INPUT_TIME=300
PHP_POST_MAX_SIZE=50M
PHP_UPLOAD_MAX_FILESIZE=50M
PHP_MAX_FILE_UPLOADS=20

# OPcache配置
OPCACHE_ENABLE=1
OPCACHE_MEMORY_CONSUMPTION=256
OPCACHE_MAX_ACCELERATED_FILES=10000
OPCACHE_VALIDATE_TIMESTAMPS=0

# =============================================================================
# 阿里云特定配置
# =============================================================================
# 阿里云地域
ALIYUN_REGION=cn-hangzhou

# 阿里云SLB配置 (如果使用负载均衡)
# SLB_ENABLED=false
# SLB_HEALTH_CHECK_PATH=/health

# 阿里云RDS配置 (如果使用云数据库)
# RDS_ENABLED=false
# RDS_HOST=your-rds-host.mysql.rds.aliyuncs.com
# RDS_PORT=3306

# 阿里云Redis配置 (如果使用云Redis)
# REDIS_CLOUD_ENABLED=false
# REDIS_CLOUD_HOST=your-redis-host.redis.rds.aliyuncs.com
# REDIS_CLOUD_PORT=6379

# =============================================================================
# 备份配置
# =============================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=7
BACKUP_COMPRESS=true

# =============================================================================
# SSL/TLS配置
# =============================================================================
# SSL证书路径 (如果启用HTTPS)
# SSL_CERT_PATH=/opt/medical-gpt/ssl_certs/cert.pem
# SSL_KEY_PATH=/opt/medical-gpt/ssl_certs/key.pem
# SSL_ENABLED=false

# =============================================================================
# 第三方服务配置
# =============================================================================
# 短信服务 (阿里云短信)
# SMS_ENABLED=false
# SMS_ACCESS_KEY_ID=your-sms-access-key-id
# SMS_ACCESS_KEY_SECRET=your-sms-access-key-secret
# SMS_SIGN_NAME=医疗AI助手
# SMS_TEMPLATE_CODE=SMS_123456789

# CDN配置 (阿里云CDN)
# CDN_ENABLED=false
# CDN_DOMAIN=cdn.medical-ai.com

# =============================================================================
# 开发和调试配置 (生产环境请设置为false)
# =============================================================================
DEBUG_TOOLBAR=false
QUERY_LOG=false
SLOW_QUERY_LOG=true
SLOW_QUERY_TIME=2

# =============================================================================
# 自定义配置
# =============================================================================
# 在此添加您的自定义环境变量
# CUSTOM_VAR=value