# 医疗健康AI助手 - 云服务器环境配置
# 专为 medicalgpt.asia 域名配置
# 请根据实际情况修改以下配置

# ===========================================
# 数据库配置
# ===========================================
MYSQL_ROOT_PASSWORD=your_secure_mysql_root_password_here
MYSQL_PASSWORD=your_secure_mysql_password_here
DB_HOST=mysql
DB_PORT=3306
DB_DATABASE=gptlink_edu
DB_USERNAME=gptlink
DB_PASSWORD=your_secure_mysql_password_here

# ===========================================
# Redis 配置
# ===========================================
REDIS_PASSWORD=your_secure_redis_password_here
REDIS_HOST=redis
REDIS_PORT=6379

# ===========================================
# DeepSeek AI 配置（与本地成功配置保持一致）
# ===========================================
# 必填：请填入您的DeepSeek API Key
OPENAI_API_KEY=sk-bc607febd5244be593f2f91647219206
OPENAI_MODEL=deepseek-chat
OPENAI_HOST=https://api.deepseek.com
OPENAI_MAX_TOKENS=2000
OPENAI_TEMPERATURE=0.7

# ===========================================
# 管理员配置
# ===========================================
ADMIN_USERNAME=admin
ADMIN_PASSWORD=your_secure_admin_password_here
ADMIN_TTL=7200

# ===========================================
# 应用配置
# ===========================================
APP_NAME=medical-gpt
APP_ENV=production
APP_URL=https://medicalgpt.asia
MEDICAL_MODE=true
TZ=Asia/Shanghai

# ===========================================
# 医疗模式配置（继承本地成功配置）
# ===========================================
MEDICAL_SAFETY_CHECK=true
MEDICAL_VERSION=1.0
MEDICAL_TITLE="医疗健康AI助手"

# 医疗功能限制配置
MED_MAX_DAILY_REQUESTS=50
MED_MAX_CONVERSATION_LENGTH=20
MED_ENABLE_PAYMENT=false
MED_ENABLE_REGISTRATION=true
MED_SIMPLE_AUTH=true

# 安全配置
MED_CONTENT_FILTER=true
MED_BLOCKED_KEYWORDS='["药物滥用","自杀","暴力","违法","毒品","自残"]'
MED_LOG_CONVERSATIONS=true
MED_ENABLE_IP_LIMIT=true
MED_IP_WHITELIST=""

# 界面配置
MED_SYSTEM_TITLE="医疗健康AI助手"
MED_SYSTEM_DESCRIPTION="专业的医疗健康咨询AI助手，为您提供可靠的健康建议"
MED_SYSTEM_KEYWORDS="医疗,健康,AI助手,咨询,诊断建议"
MED_THEME_COLOR="#2c5aa0"
MED_LOGO_URL=""

# 兼容性配置
DAILY_REQUEST_LIMIT=50
SESSION_TIMEOUT=1800

# ===========================================
# 性能配置
# ===========================================
PHP_MEMORY_LIMIT=512M
PHP_MAX_EXECUTION_TIME=300
PHP_MAX_INPUT_TIME=300
PHP_POST_MAX_SIZE=20M
PHP_UPLOAD_MAX_FILESIZE=20M

# ===========================================
# Nginx 配置
# ===========================================
NGINX_WORKER_PROCESSES=auto
NGINX_WORKER_CONNECTIONS=1024

# ===========================================
# SSL 证书配置
# ===========================================
# SSL 证书文件路径（相对于 ssl_certs 目录）
SSL_CERT_FILE=medicalgpt.asia.crt
SSL_KEY_FILE=medicalgpt.asia.key

# ===========================================
# 安全配置
# ===========================================
# JWT 密钥（请生成一个强密码）
JWT_SECRET=your_jwt_secret_key_here

# 加密密钥（请生成一个强密码）
ENCRYPTION_KEY=your_encryption_key_here

# ===========================================
# 监控配置（可选）
# ===========================================
GRAFANA_USER=admin
GRAFANA_PASSWORD=your_grafana_password_here

# ===========================================
# 邮件配置（可选）
# ===========================================
MAIL_HOST=smtp.example.com
MAIL_PORT=587
MAIL_USERNAME=your_email@example.com
MAIL_PASSWORD=your_email_password_here
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS=noreply@medicalgpt.asia
MAIL_FROM_NAME="医疗健康AI助手"

# ===========================================
# 备份配置（可选）
# ===========================================
BACKUP_SCHEDULE="0 2 * * *"  # 每天凌晨2点备份
BACKUP_RETENTION_DAYS=30

# ===========================================
# 配置说明
# ===========================================
# 1. 请将所有 "your_xxx_here" 替换为实际的安全密码
# 2. 密码建议使用 32 位以上的随机字符串
# 3. OpenAI API Key 需要从 OpenAI 官网获取
# 4. SSL 证书需要放置在 ssl_certs 目录下
# 5. 生产环境请确保所有密码的安全性
# 6. 建议定期更换密码和密钥

# ===========================================
# 密码生成建议
# ===========================================
# 可以使用以下命令生成安全密码：
# openssl rand -base64 32
# 或在线密码生成器：https://passwordsgenerator.net/